@startuml C4_Context
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

LAYOUT_WITH_LEGEND()

title System Context diagram for SALLY (Route Planning Platform)

Person(dispatcher, "Fleet Dispatcher", "Plans routes, adds/removes stops, monitors route execution")
Person(operations, "Operations Manager", "Monitors fleet performance, analyzes route efficiency")
Person(driver, "Truck Driver", "Follows optimized routes, reports delays, receives rest recommendations")

System(sally, "SALLY", "Intelligent Route Planning Platform that optimizes stop sequences, automatically inserts rest stops where HOS requires, inserts fuel stops, validates compliance, and dynamically updates routes when conditions change")

System_Ext(eld, "ELD System", "Electronic Logging Device - provides real-time driver HOS data (Phase 3)")
System_Ext(tms, "TMS", "Transportation Management System - provides load assignments and stops (Phase 3)")
System_Ext(telematics, "Telematics Platform", "Provides vehicle location, fuel level, and status (Phase 3)")
System_Ext(traffic, "Traffic API", "Real-time traffic data for dynamic route updates (Phase 3)")
System_Ext(fuel_prices, "Fuel Price API", "Current fuel prices for optimization (Phase 3)")

Rel(dispatcher, sally, "Plans routes, adds stops, sets priorities", "HTTPS/Web Dashboard")
Rel(operations, sally, "Monitors routes, views analytics", "HTTPS/Web Dashboard")
Rel(driver, sally, "Views route, reports dock delays, requests rest", "Mobile App (Phase 2)")

Rel(sally, eld, "Fetches driver HOS data", "REST API (Phase 3)")
Rel(sally, tms, "Pulls load assignments and stops", "REST API (Phase 3)")
Rel(sally, telematics, "Gets vehicle location and fuel level", "REST API (Phase 3)")
Rel(sally, traffic, "Checks traffic conditions", "REST API (Phase 3)")
Rel(sally, fuel_prices, "Gets fuel prices for optimization", "REST API (Phase 3)")

note right of sally
  **Core Capabilities:**
  • Route planning with stop sequence optimization
  • Automatic rest stop insertion (HOS-aware)
  • Automatic fuel stop insertion
  • Continuous monitoring (14 trigger types)
  • Dynamic route updates (dock delays, traffic, etc.)
  • HOS compliance validation (zero violations)
end note

@enduml
