---
title: Authentication
description: Learn how API authentication works
---

# Authentication

SALLY uses API keys for authentication. All API requests must include an API key in the Authorization header.

## API Key Format

API keys follow this format:

```
sk_staging_<32_random_characters>
```

Example: `sk_staging_abc123def456ghi789jkl012mno345`

**Production keys** (coming soon) will use:
```
sk_live_<32_random_characters>
```

## Making Authenticated Requests

Include your API key in the `Authorization` header using the `Bearer` scheme:

```bash
curl https://sally-api.apps.appshore.in/api/v1/routes/plan \
  -H "Authorization: Bearer sk_staging_YOUR_KEY" \
  -H "Content-Type: application/json"
```

### JavaScript (fetch)

```javascript
const response = await fetch('https://sally-api.apps.appshore.in/api/v1/routes/plan', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer sk_staging_YOUR_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({ /* your data */ })
});
```

### Python (requests)

```python
import requests

response = requests.post(
  'https://sally-api.apps.appshore.in/api/v1/routes/plan',
  headers={'Authorization': 'Bearer sk_staging_YOUR_KEY'},
  json={ /* your data */ }
)
```

## Error Responses

### 401 Unauthorized

Returned when:
- API key is missing
- API key is invalid
- API key has been revoked
- API key has expired

```json
{
  "statusCode": 401,
  "message": "Invalid or expired API key",
  "error": "Unauthorized"
}
```

### 429 Too Many Requests

Returned when you exceed the rate limit:

```json
{
  "statusCode": 429,
  "message": "Rate limit exceeded. Try again in 3600 seconds.",
  "error": "Too Many Requests"
}
```

Response headers include:
- `X-RateLimit-Limit`: Your rate limit (e.g., 1000)
- `X-RateLimit-Remaining`: Requests remaining in current window
- `X-RateLimit-Reset`: Unix timestamp when the limit resets

## Best Practices

### Keep Keys Secret

- Never commit API keys to version control
- Use environment variables
- Rotate keys periodically

```javascript
// ✅ Good
const apiKey = process.env.SALLY_API_KEY;

// ❌ Bad
const apiKey = 'sk_staging_abc123...';
```

### Use Staging for Testing

- Use staging keys (`sk_staging_`) for development and testing
- Switch to production keys (`sk_live_`) only for production workloads

### Monitor Usage

Check your API key usage in the dashboard:
- Request count
- Last used timestamp
- Identify suspicious activity

### Handle Errors Gracefully

Always handle authentication errors:

```javascript
try {
  const response = await fetch(url, { headers });

  if (response.status === 401) {
    console.error('Invalid API key');
    // Notify user, refresh key, etc.
  }

  if (response.status === 429) {
    console.error('Rate limit exceeded');
    // Implement exponential backoff
  }

  const data = await response.json();
} catch (error) {
  console.error('Request failed:', error);
}
```

## Next Steps

- [API Keys Setup](/getting-started/api-keys) - Generate and manage API keys
- [Quickstart Guide](/getting-started/quickstart) - Make your first request
